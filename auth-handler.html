<!DOCTYPE html>
<html>
<head>
    <title>Auth Handler</title>
    <script>
        // Get hash parameters
        const hash = window.location.hash.substring(1);
        const params = new URLSearchParams(hash);
        const user = {};
        
        // Convert to object
        for (const [key, value] of params.entries()) {
            user[key] = value;
        }

        // Send back to opener window
        if (window.opener) {
            window.opener.postMessage({
                type: 'telegram-auth',
                user: user
            }, '*');
            window.close();
        } else {
            document.body.innerHTML = '<p>Authentication complete. You can close this window.</p>';
        }
    </script>
</head>
<body>
    <p>Processing Telegram authentication...</p>
</body>
</html>
